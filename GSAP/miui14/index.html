<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<link rel="stylesheet" href="./css/index.css" />
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.3/gsap.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.3/ScrollTrigger.min.js"></script>
	</head>
	<body>
		<section>
			<h1>Test</h1>
		</section>
		<section class="main">
			<div>
				<h2>耳机也可以自由切换</h2>
				<div class="content">
					<!-- 手机 -->
					<div class="phone-wrap">
						<img src="./images/connect_conv_phone_bg.webp" alt="" />
					</div>
					<!-- 图标 -->
					<div class="icon-wrap">
						<div class="phone">
							<img
								src="./images/connect_conv_bubble_phone_normal.webp"
								alt="" />
						</div>
						<div class="tv">
							<img src="./images/connect_bubble_tv_1.webp" alt="" />
						</div>
						<div class="pad">
							<img src="./images/connect_conv_bubble_pad_light.webp" alt="" />
						</div>
						<div class="sound">
							<img src="./images/connect_bubble_speakers_1.webp" alt="" />
						</div>
					</div>
					<!-- tip -->
					<div class="tip">
						<img src="./images/connect_bubble_phone_toast1.webp" alt="" />
						<img src="./images/connect_bubble_phone_toast2.webp" alt="" />
					</div>
					<div class="round-wrap">
						<img src="./images/connect_earbuds_icon.webp" alt="" />
					</div>
				</div>
				<!-- video -->
				<div class="video">
					<img class="video-img" src="./images/connect_conv_pad.webp" alt="" />
					<img class="msg" src="./images/connect_xiaomi_buds.webp" alt="" />
				</div>
				<!-- 耳机 -->
				<div class="headset">
					<img src="./images/connect_convenience_earpods.webp" alt="" />
				</div>
			</div>
		</section>
		<section></section>
		<script>
			gsap.set('.video', { opacity: 0, xPercent: 30 })
			gsap.set('.msg', { opacity: 0, scale: 0 })
			gsap.registerPlugin(ScrollTrigger)

			const tl = gsap.timeline({
				scrollTrigger: {
					trigger: '.main',
					end: '+=500% top',
					pin: true,
					markers: true,
					scrub: true
				}
			})

			tl.to('.round-wrap', {
				x: -90,
				y: 60,
				duration: 30
			})

			tl.to('.phone', {
				scale: 0.8,
				transformOrigin: 'center top',
				duration: 30
			}, '<')

			tl.to('.tv', {
				scale: 0.9,
				transformOrigin: 'center top',
				y: -40,
				duration: 30
			}, '<')

			tl.to('.pad', {
				y: -20,
				scale: 1.1,
				duration: 30
			}, '<')

			tl.to('.sound', {
				scale: 1.1,
				y: -10,
				duration: 30
			}, '<')

			tl.to('.tip', {
				scale: 0.9,
				duration: 30
			}, '<')

			tl.to('.content', {
				delay: 3
			})


			tl.to('.content', {
				x: -window.innerWidth / 2,
				opacity: 0,
				ease: 'back.inOut(1)',
				duration: 30
			})

			tl.to('.video', {
				opacity: 0.2,
				duration: 10
			}, '<')
			
			tl.to('.video', {
				opacity: 1,
				duration: 10
			}, '<')

			tl.to('.video', {
				xPercent: -50,
				duration: 20,
				ease: 'back.inOut(1)',
			}, '<3')


			tl.to('.msg', {
				scale: 1,
				opacity: 1,
				duration: 8,
			})
		</script>
	</body>
</html>
